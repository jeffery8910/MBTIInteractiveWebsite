<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MBTI èªçŸ¥åŠŸèƒ½äº’å‹•ç¶²é é«”é©—</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            font-family: 'Inter', 'Noto Sans TC', sans-serif;
            transition: background-color 0.5s ease, color 0.5s ease; /* å¹³æ»‘éæ¸¡æ•ˆæœ */
        }

        /* é è¨­/ç¾ä»£ä¸»é¡Œ (theme-modern) */
        body.theme-modern {
            background-color: #f0f4f8;
            color: #1f2937;
        }
        body.theme-modern .function-card {
            background-color: white;
            color: #1f2937;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        body.theme-modern .function-title { color: #1e3a8a; }
        body.theme-modern .function-description { color: #4b5563; }
        body.theme-modern .interactive-area { background-color: #f9fafb; border-color: #e5e7eb;}
        body.theme-modern .interactive-button { background-color: #3b82f6; color: white; }
        body.theme-modern .interactive-button:hover { background-color: #2563eb; }
        body.theme-modern .theme-button { border-color: #d1d5db; color: #374151; }
        body.theme-modern .theme-button.active { background-color: #1e3a8a; color: white; }
        body.theme-modern .output-text { color: #1f2937; }
        body.theme-modern #seCanvas { background-color: #e0e7ff; }
        body.theme-modern #niWisdomStone { background-color: #d1d5db; color: #374151; }
        body.theme-modern #niWisdomStone:hover { background-color: #9ca3af; }
        body.theme-modern #tiIndicatorLight { background-color: #9ca3af; } /* é è¨­ç°è‰² */
        body.theme-modern .ti-switch-correct #tiIndicatorLight { background-color: #4ade80; } /* æ­£ç¢ºæ™‚ç¶ è‰² */
        body.theme-modern .ti-switch-incorrect #tiIndicatorLight { background-color: #f87171; } /* éŒ¯èª¤æ™‚ç´…è‰² */
        body.theme-modern .fi-option { border-color: #ccc; color: #374151; }
        body.theme-modern .fi-option:hover, body.theme-modern .fi-option.selected { background-color: #dbeafe; border-color: #3b82f6; }
        body.theme-modern .poll-option { border-color: #ccc; color: #374151;}
        body.theme-modern .poll-bar { background-color: #93c5fd; }
        body.theme-modern header h1 { color: #1f2937; }
        body.theme-modern header p { color: #4b5563; }
        body.theme-modern footer p { color: #4b5563; border-color: #d1d5db; }


        /* ç¶“å…¸ä¸»é¡Œ (theme-classic) */
        body.theme-classic {
            background-color: #fdf6e3; /* ç±³é»ƒè‰²èƒŒæ™¯ */
            color: #583e2e; /* æ·±æ£•è‰²æ–‡å­— */
        }
        body.theme-classic .function-card {
            background-color: #fffaf0; /* è±¡ç‰™ç™½å¡ç‰‡ */
            color: #583e2e;
            border: 1px solid #d2b48c; /* æ£•è¤è‰²é‚Šæ¡† */
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
        }
        body.theme-classic .function-title { color: #8b4513; } /* éè¤è‰²æ¨™é¡Œ */
        body.theme-classic .function-description { color: #704214; }
        body.theme-classic .interactive-area { background-color: #faf0e6; border-color: #d2b48c;}
        body.theme-classic .interactive-button { background-color: #a0522d; color: white; } /* èµ­è‰²æŒ‰éˆ• */
        body.theme-classic .interactive-button:hover { background-color: #803816; }
        body.theme-classic .theme-button { border-color: #d2b48c; color: #583e2e; }
        body.theme-classic .theme-button.active { background-color: #8b4513; color: white; }
        body.theme-classic .output-text { color: #583e2e; }
        body.theme-classic #seCanvas { background-color: #ffe4c4; } /* æ¡ƒè‰²ç•«å¸ƒ */
        body.theme-classic #niWisdomStone { background-color: #e0dcd1; color: #583e2e; }
        body.theme-classic #niWisdomStone:hover { background-color: #c9c1b3; }
        body.theme-classic #tiIndicatorLight { background-color: #c0c0c0; }
        body.theme-classic .ti-switch-correct #tiIndicatorLight { background-color: #90ee90; }
        body.theme-classic .ti-switch-incorrect #tiIndicatorLight { background-color: #ffcccb; }
        body.theme-classic .fi-option { border-color: #d2b48c; color: #583e2e; }
        body.theme-classic .fi-option:hover, body.theme-classic .fi-option.selected { background-color: #f5e5d5; border-color: #a0522d; }
        body.theme-classic .poll-option { border-color: #d2b48c; color: #583e2e;}
        body.theme-classic .poll-bar { background-color: #deb887; } /* ç¡¬ç‰ç±³è‰²é€²åº¦æ¢ */
        body.theme-classic header h1 { color: #583e2e; }
        body.theme-classic header p { color: #704214; }
        body.theme-classic footer p { color: #704214; border-color: #d2b48c; }

        /* æ·±é‚ƒå¤œé–“ä¸»é¡Œ (theme-dark) */
        body.theme-dark {
            background-color: #111827; /* æ·±ç°è—èƒŒæ™¯ */
            color: #d1d5db; /* æ·ºç°è‰²æ–‡å­— */
        }
        body.theme-dark .function-card {
            background-color: #1f2937; /* è¼ƒæ·ºçš„æ·±ç°è—å¡ç‰‡ */
            color: #d1d5db;
            border: 1px solid #374151;
            box-shadow: 0 4px 6px rgba(0,0,0,0.3);
        }
        body.theme-dark .function-title { color: #60a5fa; } /* æ·¡è—è‰²æ¨™é¡Œ */
        body.theme-dark .function-description { color: #9ca3af; }
        body.theme-dark .interactive-area { background-color: #374151; border-color: #4b5563;}
        body.theme-dark .interactive-button { background-color: #4f46e5; color: white; } /* é›è—è‰²æŒ‰éˆ• */
        body.theme-dark .interactive-button:hover { background-color: #4338ca; }
        body.theme-dark .theme-button { border-color: #4b5563; color: #9ca3af; }
        body.theme-dark .theme-button.active { background-color: #60a5fa; color: #111827; }
        body.theme-dark .output-text { color: #e5e7eb; }
        body.theme-dark #seCanvas { background-color: #312e81; } /* æ·±é›è—ç•«å¸ƒ */
        body.theme-dark #niWisdomStone { background-color: #4b5563; color: #9ca3af; }
        body.theme-dark #niWisdomStone:hover { background-color: #52525b; }
        body.theme-dark #tiIndicatorLight { background-color: #6b7280; }
        body.theme-dark .ti-switch-correct #tiIndicatorLight { background-color: #34d399; }
        body.theme-dark .ti-switch-incorrect #tiIndicatorLight { background-color: #ef4444; }
        body.theme-dark .fi-option { border-color: #4b5563; color: #d1d5db; }
        body.theme-dark .fi-option:hover, body.theme-dark .fi-option.selected { background-color: #374151; border-color: #60a5fa; }
        body.theme-dark .poll-option { border-color: #4b5563; color: #d1d5db;}
        body.theme-dark .poll-bar { background-color: #3b82f6; }
        body.theme-dark header h1 { color: #e5e7eb; }
        body.theme-dark header p { color: #9ca3af; }
        body.theme-dark footer p { color: #9ca3af; border-color: #374151; }


        /* é€šç”¨å¡ç‰‡æ¨£å¼ */
        .function-card {
            border-radius: 12px;
            padding: 24px;
            margin-bottom: 24px;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        .function-card:hover {
            transform: translateY(-5px);
        }
        .interactive-area {
            border: 1px solid; /* é¡è‰²ç”±ä¸»é¡Œå®šç¾© */
            border-radius: 8px;
            padding: 16px;
            min-height: 150px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }
        .theme-button {
            margin: 5px;
            padding: 8px 12px;
            border: 1px solid; /* é¡è‰²ç”±ä¸»é¡Œå®šç¾© */
            border-radius: 6px;
            cursor: pointer;
            transition: background-color 0.3s, color 0.3s;
        }
        #seCanvas {
            width: 100%;
            height: 150px;
            border-radius: 8px;
        }
        .task-item {
            display: flex;
            align-items: center;
            margin-bottom: 8px;
            width: 100%;
            max-width: 300px;
        }
        .task-item input[type="checkbox"] {
            margin-right: 8px;
            accent-color: #3b82f6; /* Checkbox é¡è‰²ï¼Œå¯è€ƒæ…®ä¹Ÿéš¨ä¸»é¡Œè®ŠåŒ– */
        }
        body.theme-dark .task-item input[type="checkbox"] { accent-color: #60a5fa; }
        body.theme-classic .task-item input[type="checkbox"] { accent-color: #a0522d; }

        .task-item label {
            flex-grow: 1;
        }
        .fi-option {
            padding: 10px;
            border: 1px solid; /* é¡è‰²ç”±ä¸»é¡Œå®šç¾© */
            border-radius: 8px;
            margin: 5px;
            cursor: pointer;
            transition: background-color 0.3s, border-color 0.3s;
        }
        .poll-option {
            width: 100%;
            padding: 8px;
            margin: 4px 0;
            border: 1px solid; /* é¡è‰²ç”±ä¸»é¡Œå®šç¾© */
            border-radius: 4px;
            cursor: pointer;
            position: relative;
            overflow: hidden;
        }
        .poll-bar {
            position: absolute;
            top: 0;
            left: 0;
            height: 100%;
            z-index: 0;
            transition: width 0.5s ease, background-color 0.5s ease;
        }
        .poll-text {
            position: relative;
            z-index: 1;
        }
         /* Ti æŒ‡ç¤ºç‡ˆçš„çˆ¶å®¹å™¨ï¼Œç”¨æ–¼æ ¹æ“šç‹€æ…‹æ”¹è®Šå­å…ƒç´ æ¨£å¼ */
        #tiIndicatorContainer .ti-switch-correct #tiIndicatorLight { background-color: #4ade80; }
        #tiIndicatorContainer .ti-switch-incorrect #tiIndicatorLight { background-color: #f87171; }
        body.theme-classic #tiIndicatorContainer .ti-switch-correct #tiIndicatorLight { background-color: #90ee90; }
        body.theme-classic #tiIndicatorContainer .ti-switch-incorrect #tiIndicatorLight { background-color: #ffcccb; }
        body.theme-dark #tiIndicatorContainer .ti-switch-correct #tiIndicatorLight { background-color: #34d399; }
        body.theme-dark #tiIndicatorContainer .ti-switch-incorrect #tiIndicatorLight { background-color: #ef4444; }
    </style>
</head>
<body class="theme-modern p-4 md:p-8"> <header class="text-center mb-12">
        <h1 class="text-4xl font-bold mb-4">MBTI èªçŸ¥åŠŸèƒ½äº’å‹•ç¶²é é«”é©—</h1>
        <p class="text-lg max-w-2xl mx-auto">
            æœ¬ç¶²é æ—¨åœ¨é€éä¸€äº›ç°¡å–®çš„äº’å‹•å…ƒç´ ï¼Œè¶£å‘³æ€§åœ°æ¢ç´¢ä¸åŒMBTIèªçŸ¥åŠŸèƒ½å¯èƒ½çš„åå¥½ã€‚é€™ä¸¦éç§‘å­¸è¨ºæ–·å·¥å…·ï¼Œåƒ…ä¾›åƒè€ƒèˆ‡å•Ÿç™¼ã€‚
        </p>
    </header>

    <main class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">

        <div class="function-card">
            <h2 class="function-title">Se (å¤–å‘å¯¦æ„Ÿ) - å³æ™‚æ„Ÿå®˜</h2>
            <p class="function-description">åå¥½å…·é«”ã€å³æ™‚çš„æ„Ÿå®˜é«”é©—ï¼Œäº«å—èˆ‡ç’°å¢ƒçš„ç›´æ¥äº’å‹•ï¼Œåæ‡‰è¿…é€Ÿã€‚</p>
            <div class="interactive-area">
                <p class="mb-2 text-sm">æ»‘é¼ åœ¨ä¸‹æ–¹å€åŸŸç§»å‹•ï¼Œæ„Ÿå—å³æ™‚çš„è¦–è¦ºå›é¥‹ï¼š</p>
                <canvas id="seCanvas"></canvas>
            </div>
        </div>

        <div class="function-card">
            <h2 class="function-title">Si (å…§å‘å¯¦æ„Ÿ) - ç¶“é©—ç´°ç¯€</h2>
            <p class="function-description">é‡è¦–éå»ç¶“é©—èˆ‡ç´°ç¯€ï¼Œåå¥½ç©©å®šã€ç†Ÿæ‚‰ä¸”æœ‰æ¢ç†çš„è³‡è¨Šå‘ˆç¾ã€‚</p>
            <div class="interactive-area">
                <p class="mb-2 text-sm">é¸æ“‡æ‚¨åå¥½çš„ç¶²ç«™ä¸»é¡Œé¢¨æ ¼ï¼š</p>
                <div id="siThemeSelector">
                    <button class="theme-button active" data-theme="modern">ç¾ä»£ç°¡ç´„</button>
                    <button class="theme-button" data-theme="classic">ç¶“å…¸æ‡·èˆŠ</button>
                    <button class="theme-button" data-theme="dark">æ·±é‚ƒå¤œé–“</button>
                </div>
                <p id="siOutput" class="output-text">ç›®å‰é¸æ“‡ï¼šç¾ä»£ç°¡ç´„</p>
            </div>
        </div>

        <div class="function-card">
            <h2 class="function-title">Ne (å¤–å‘ç›´è¦º) - æ¢ç´¢å¯èƒ½</h2>
            <p class="function-description">å°å„ç¨®å¯èƒ½æ€§ã€æ–°é»å­èˆ‡é€£çµå……æ»¿å¥½å¥‡ï¼Œå–œæ­¡æ¢ç´¢èˆ‡è…¦åŠ›æ¿€ç›ªã€‚</p>
            <div class="interactive-area">
                <button id="neIdeaButton" class="interactive-button">é»æˆ‘ï¼æ¿€ç™¼ä¸€å€‹æ–°é»å­ï¼</button>
                <p id="neOutput" class="output-text"></p>
            </div>
        </div>

        <div class="function-card">
            <h2 class="function-title">Ni (å…§å‘ç›´è¦º) - æ·±å±¤æ´å¯Ÿ</h2>
            <p class="function-description">å°ˆæ³¨æ–¼å…§åœ¨æ´å¯Ÿã€é•·é æ¨¡å¼èˆ‡æ½›åœ¨æ„ç¾©ï¼Œå–œæ­¡æ·±å…¥æ€è€ƒã€‚</p>
            <div class="interactive-area">
                <p class="mb-2 text-sm">é»æ“Šä¸‹æ–¹çš„ç¬¦æ–‡çŸ³ï¼Œé€æ­¥æ­ç¤ºæ™ºæ…§ç®´è¨€ï¼š</p>
                <div id="niWisdomStone" class="w-20 h-20 rounded-full flex items-center justify-center text-3xl cursor-pointer select-none transition-colors">ğŸ’</div>
                <p id="niOutput" class="output-text"></p>
            </div>
        </div>

        <div class="function-card">
            <h2 class="function-title">Te (å¤–å‘æ€è€ƒ) - æ•ˆç‡é‚è¼¯</h2>
            <p class="function-description">é‡è¦–æ•ˆç‡ã€é‚è¼¯ã€ç›®æ¨™é”æˆèˆ‡å¤–éƒ¨ç³»çµ±çš„çµ„ç¹”ã€‚</p>
            <div class="interactive-area">
                <p class="mb-2 text-sm">ç°¡æ˜“ä»»å‹™ç®¡ç†å™¨ï¼š</p>
                <div id="teTaskList" class="w-full text-left px-4">
                    <div class="task-item"><input type="checkbox" id="task1"><label for="task1">å®Œæˆä»Šæ—¥å ±å‘Š</label></div>
                    <div class="task-item"><input type="checkbox" id="task2"><label for="task2">å›è¦†é‡è¦éƒµä»¶</label></div>
                    <div class="task-item"><input type="checkbox" id="task3"><label for="task3">è¦åŠƒæ˜æ—¥è¡Œç¨‹</label></div>
                </div>
                <button id="teOrganizeButton" class="interactive-button mt-4">æ•´ç†ä»»å‹™ (ç¤ºæ„)</button>
                <p id="teOutput" class="output-text"></p>
            </div>
        </div>

        <div class="function-card">
            <h2 class="function-title">Ti (å…§å‘æ€è€ƒ) - ç²¾ç¢ºåˆ†æ</h2>
            <p class="function-description">è¿½æ±‚ç²¾ç¢ºã€é‚è¼¯ä¸€è‡´æ€§èˆ‡å°äº‹ç‰©åŸç†çš„æ·±åº¦ç†è§£ã€‚</p>
            <div class="interactive-area" id="tiIndicatorContainer"> <p class="mb-2 text-sm">é‚è¼¯é–‹é—œï¼šè«‹æ‰¾å‡ºæ­£ç¢ºçš„çµ„åˆä»¥é»äº®æŒ‡ç¤ºç‡ˆ</p>
                <div class="flex space-x-4 my-2">
                    <label class="flex items-center"><input type="checkbox" class="ti-switch mr-1" data-id="1"> é–‹é—œA</label>
                    <label class="flex items-center"><input type="checkbox" class="ti-switch mr-1" data-id="2"> é–‹é—œB</label>
                    <label class="flex items-center"><input type="checkbox" class="ti-switch mr-1" data-id="3"> é–‹é—œC</label>
                </div>
                <div id="tiIndicatorLight" class="w-10 h-10 rounded-full transition-colors"></div>
                <p id="tiOutput" class="output-text"></p>
            </div>
        </div>

        <div class="function-card">
            <h2 class="function-title">Fe (å¤–å‘æƒ…æ„Ÿ) - å’Œè«§é€£çµ</h2>
            <p class="function-description">é‡è¦–äººéš›å’Œè«§ã€ä»–äººæ„Ÿå—èˆ‡ç¤¾ç¾¤é€£çµï¼Œå‚¾å‘å‰µé€ ç©æ¥µæ°›åœã€‚</p>
            <div class="interactive-area">
                <p class="mb-2 text-sm">ç¤¾ç¾¤å°èª¿æŸ¥ï¼šæ‚¨ä»Šå¤©çš„å¿ƒæƒ…å¦‚ä½•ï¼Ÿ (ç¤ºæ„)</p>
                <div id="fePoll" class="w-full max-w-xs">
                    <div class="poll-option" data-value="happy"><div class="poll-bar"></div><span class="poll-text">ğŸ˜„ éå¸¸é–‹å¿ƒ (30%)</span></div>
                    <div class="poll-option" data-value="neutral"><div class="poll-bar"></div><span class="poll-text">ğŸ™‚ å¹³éœæ™®é€š (50%)</span></div>
                    <div class="poll-option" data-value="sad"><div class="poll-bar"></div><span class="poll-text">ğŸ˜Ÿ æœ‰é»ä½è½ (20%)</span></div>
                </div>
                <p id="feOutput" class="output-text"></p>
            </div>
        </div>

        <div class="function-card">
            <h2 class="function-title">Fi (å…§å‘æƒ…æ„Ÿ) - çœŸå¯¦åƒ¹å€¼</h2>
            <p class="function-description">è¿½å°‹å…§åœ¨åƒ¹å€¼è§€çš„çœŸå¯¦æ€§ã€å€‹äººæƒ…æ„Ÿçš„æ·±åº¦èˆ‡æ„ç¾©ã€‚</p>
            <div class="interactive-area">
                <p class="mb-2 text-sm">é¸æ“‡ä¸€å€‹æœ€èƒ½å¼•èµ·æ‚¨å…±é³´çš„æ„è±¡ï¼š</p>
                <div class="flex flex-wrap justify-center">
                    <div class="fi-option" data-value="forest">ğŸŒ² å¯§éœæ£®æ—</div>
                    <div class="fi-option" data-value="ocean">ğŸŒŠ æµ©ç€šæµ·æ´‹</div>
                    <div class="fi-option" data-value="stars">âœ¨ ç’€ç’¨æ˜Ÿç©º</div>
                </div>
                <p id="fiOutput" class="output-text"></p>
            </div>
        </div>

    </main>

    <footer class="text-center mt-12 py-8 border-t">
        <p>&copy; 2024 MBTI èªçŸ¥åŠŸèƒ½äº’å‹•é«”é©—ã€‚åƒ…ä¾›å¨›æ¨‚èˆ‡åƒè€ƒã€‚</p>
    </footer>

    <script>
        // Se: å¤–å‘å¯¦æ„Ÿ - Canvas ç²’å­äº’å‹•
        const seCanvas = document.getElementById('seCanvas');
        const seCtx = seCanvas.getContext('2d');
        let seParticles = [];
        
        function resizeSeCanvas() {
            seCanvas.width = seCanvas.offsetWidth;
            seCanvas.height = 150; // å›ºå®šé«˜åº¦
        }
        resizeSeCanvas(); // åˆå§‹èª¿æ•´å¤§å°

        function SeParticle(x, y) {
            this.x = x;
            this.y = y;
            this.size = Math.random() * 5 + 2;
            this.speedX = Math.random() * 2 - 1;
            this.speedY = Math.random() * 2 - 1;
            this.color = `hsl(${Math.random() * 360}, 70%, 70%)`;
        }

        SeParticle.prototype.update = function() {
            this.x += this.speedX;
            this.y += this.speedY;
            if (this.size > 0.2) this.size -= 0.05;
        };

        SeParticle.prototype.draw = function() {
            seCtx.fillStyle = this.color;
            seCtx.beginPath();
            seCtx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
            seCtx.fill();
        };

        function handleSeParticles() {
            for (let i = 0; i < seParticles.length; i++) {
                seParticles[i].update();
                seParticles[i].draw();
                if (seParticles[i].size <= 0.2) {
                    seParticles.splice(i, 1);
                    i--;
                }
            }
        }

        function animateSe() {
            seCtx.clearRect(0, 0, seCanvas.width, seCanvas.height);
            handleSeParticles();
            requestAnimationFrame(animateSe);
        }
        
        seCanvas.addEventListener('mousemove', function(event) {
            const rect = seCanvas.getBoundingClientRect();
            const x = event.clientX - rect.left;
            const y = event.clientY - rect.top;
            for (let i = 0; i < 3; i++) {
                 if (seParticles.length < 100) {
                    seParticles.push(new SeParticle(x, y));
                }
            }
        });
        
        window.addEventListener('load', () => {
            resizeSeCanvas();
            animateSe();
        });
        window.addEventListener('resize', resizeSeCanvas);


        // Si: å…§å‘å¯¦æ„Ÿ - ä¸»é¡Œé¸æ“‡
        const siThemeSelector = document.getElementById('siThemeSelector');
        const siOutput = document.getElementById('siOutput');
        const siButtons = siThemeSelector.querySelectorAll('.theme-button');

        siButtons.forEach(button => {
            button.addEventListener('click', function() {
                siButtons.forEach(btn => btn.classList.remove('active'));
                this.classList.add('active');
                const selectedThemeName = this.dataset.theme;
                siOutput.textContent = `ç›®å‰é¸æ“‡ï¼š${this.textContent}`;
                
                // ç§»é™¤æ‰€æœ‰å¯èƒ½çš„ä¸»é¡Œ class
                document.body.classList.remove('theme-modern', 'theme-classic', 'theme-dark');
                // æ·»åŠ æ–°çš„ä¸»é¡Œ class
                document.body.classList.add(`theme-${selectedThemeName}`);
            });
        });

        // Ne: å¤–å‘ç›´è¦º - é»å­ç”¢ç”Ÿå™¨ (åŒå‰)
        const neIdeaButton = document.getElementById('neIdeaButton');
        const neOutput = document.getElementById('neOutput');
        const neIdeas = [
            "å¦‚æœå‹•ç‰©æœƒèªªè©±ï¼Œç¬¬ä¸€å¥æœƒæ˜¯ä»€éº¼ï¼Ÿ", "æƒ³åƒä¸€å€‹æ¼‚æµ®åœ¨ç©ºä¸­çš„åŸå¸‚ã€‚", "ç”¨è¥ªå­èƒ½åšå‡ºä»€éº¼æ„æƒ³ä¸åˆ°çš„ç™¼æ˜ï¼Ÿ",
            "å¦‚æœé¡è‰²æœ‰å‘³é“æœƒæ˜¯æ€æ¨£ï¼Ÿ", "è¨­è¨ˆä¸€å€‹å°ˆç‚ºå¤¢å¢ƒè¨­è¨ˆçš„ç¤¾äº¤åª’é«”ã€‚", "ä¸€é¦–é—œæ–¼è¿·è·¯åå¸çš„æ­Œã€‚", "å¦‚æœæ¤ç‰©å¯ä»¥é¸æ“‡ä¸»äººï¼Ÿ"
        ];
        neIdeaButton.addEventListener('click', function() {
            neOutput.textContent = neIdeas[Math.floor(Math.random() * neIdeas.length)];
        });

        // Ni: å…§å‘ç›´è¦º - æ™ºæ…§ç®´è¨€ (åŒå‰)
        const niWisdomStone = document.getElementById('niWisdomStone');
        const niOutput = document.getElementById('niOutput');
        const niWisdoms = ["...", "æ·±æ€...", "æ´è¦‹...", "è¬ç‰©çš†æœ‰é—œè¯ã€‚", "éœé»˜ä¸­è—çœŸçŸ¥ã€‚", "å…§è§€è‡ªè¦‹å…‰æ˜ã€‚"];
        let niClickCount = 0;
        niWisdomStone.addEventListener('click', function() {
            niOutput.textContent = niWisdoms[niClickCount % niWisdoms.length];
            niClickCount++;
            niWisdomStone.style.transform = 'scale(1.1)';
            setTimeout(() => { niWisdomStone.style.transform = 'scale(1)'; }, 150);
        });

        // Te: å¤–å‘æ€è€ƒ - ä»»å‹™æ•´ç† (åŒå‰)
        const teOrganizeButton = document.getElementById('teOrganizeButton');
        const teOutput = document.getElementById('teOutput');
        const teTaskList = document.getElementById('teTaskList');
        teOrganizeButton.addEventListener('click', function() {
            const tasks = Array.from(teTaskList.querySelectorAll('.task-item'));
            const completedTasks = tasks.filter(task => task.querySelector('input[type="checkbox"]').checked);
            const pendingTasks = tasks.filter(task => !task.querySelector('input[type="checkbox"]').checked);
            teTaskList.innerHTML = '';
            pendingTasks.forEach(task => teTaskList.appendChild(task));
            completedTasks.forEach(task => teTaskList.appendChild(task));
            teOutput.textContent = "ä»»å‹™å·²é‡æ–°æ’åº (å·²å®Œæˆé …ç›®ç§»è‡³åº•éƒ¨)ã€‚";
        });

        // Ti: å…§å‘æ€è€ƒ - é‚è¼¯é–‹é—œ
        const tiSwitches = document.querySelectorAll('.ti-switch');
        const tiIndicatorContainer = document.getElementById('tiIndicatorContainer'); // ä½¿ç”¨çˆ¶å®¹å™¨
        const tiOutput = document.getElementById('tiOutput');
        const tiCorrectCombination = {1: true, 2: false, 3: true}; 

        tiSwitches.forEach(s => {
            s.addEventListener('change', function() {
                let currentCombination = {};
                tiSwitches.forEach(sw => { currentCombination[sw.dataset.id] = sw.checked; });
                let isCorrect = Object.keys(tiCorrectCombination).every(id => tiCorrectCombination[id] === currentCombination[id]);

                // ç§»é™¤èˆŠçš„ç‹€æ…‹ class
                tiIndicatorContainer.classList.remove('ti-switch-correct', 'ti-switch-incorrect');

                if (isCorrect) {
                    tiIndicatorContainer.classList.add('ti-switch-correct');
                    tiOutput.textContent = "é‚è¼¯æ­£ç¢ºï¼æŒ‡ç¤ºç‡ˆå·²é»äº®ã€‚";
                } else {
                    tiIndicatorContainer.classList.add('ti-switch-incorrect');
                    tiOutput.textContent = "çµ„åˆä¸æ­£ç¢ºï¼Œè«‹ç¹¼çºŒå˜—è©¦ã€‚";
                }
            });
        });
         // åˆå§‹åŒ–TiæŒ‡ç¤ºç‡ˆçš„çˆ¶å®¹å™¨classï¼Œè®“é è¨­é¡è‰²èƒ½æ­£ç¢ºé¡¯ç¤º
        document.addEventListener('DOMContentLoaded', () => {
            if (tiIndicatorContainer && !tiIndicatorContainer.classList.contains('ti-switch-correct') && !tiIndicatorContainer.classList.contains('ti-switch-incorrect')) {
                 // é è¨­ç‚ºç°è‰²ï¼Œä½†ç”±CSSä¸»é¡Œç›´æ¥æ§åˆ¶ï¼Œæ­¤è™•å¯ä¸åŠ ç‰¹å®šclassï¼Œæˆ–åŠ ä¸€å€‹ 'ti-switch-default' class
            }
        });


        // Fe: å¤–å‘æƒ…æ„Ÿ - ç¤¾ç¾¤èª¿æŸ¥ (åŒå‰ï¼Œç•¥ä½œèª¿æ•´ä»¥ç¢ºä¿ç™¾åˆ†æ¯”æ›´æ–°æ­£ç¢º)
        const fePollOptions = document.querySelectorAll('#fePoll .poll-option');
        const feOutput = document.getElementById('feOutput');
        let fePollData = { happy: 30, neutral: 50, sad: 20 };

        function updateFePollDisplay() {
            let currentTotal = Object.values(fePollData).reduce((a, b) => a + b, 0);
            fePollOptions.forEach(option => {
                const value = option.dataset.value;
                const percentage = fePollData[value];
                const displayPercentage = currentTotal === 0 ? 0 : Math.round((percentage / currentTotal) * 100)
                option.querySelector('.poll-bar').style.width = displayPercentage + '%';
                option.querySelector('.poll-text').textContent = `${option.textContent.split('(')[0].trim()} (${displayPercentage}%)`;
            });
        }
        updateFePollDisplay();

        fePollOptions.forEach(option => {
            option.addEventListener('click', function() {
                const selectedValue = this.dataset.value;
                Object.keys(fePollData).forEach(key => { // ç°¡å–®ç¤ºæ„å¢åŠ é¸ä¸­é …ï¼Œæ¸›å°‘å…¶ä»–é …
                    if (key === selectedValue) fePollData[key] = Math.min(100, fePollData[key] + 10);
                    else fePollData[key] = Math.max(0, fePollData[key] - 5);
                });
                // ç¢ºä¿ç¸½å’Œä¸è¶…é100ï¼Œä¸¦é‡æ–°åˆ†é…
                let totalVotes = Object.values(fePollData).reduce((a,b) => a+b, 0);
                if (totalVotes > 0) { //é¿å…é™¤ä»¥é›¶
                    Object.keys(fePollData).forEach(key => {
                        fePollData[key] = Math.round((fePollData[key] / totalVotes) * 100);
                    });
                }
                 // å†æ¬¡æª¢æŸ¥ç¸½å’Œï¼Œä¸¦å°‡å·®é¡åŠ åˆ°æœ€å¤§çš„é …ç›® (é¿å…æµ®é»æ•¸å•é¡Œå°è‡´ç¸½å’Œä¸æ˜¯100)
                let finalTotal = Object.values(fePollData).reduce((a,b) => a+b, 0);
                if (finalTotal !== 100 && finalTotal > 0) {
                    let maxKey = Object.keys(fePollData).reduce((a, b) => fePollData[a] > fePollData[b] ? a : b);
                    fePollData[maxKey] += (100 - finalTotal);
                }


                updateFePollDisplay();
                feOutput.textContent = `æ„Ÿè¬æ‚¨çš„åƒèˆ‡ï¼æ‚¨é¸æ“‡äº† "${this.textContent.split('(')[0].trim()}"ã€‚`;
            });
        });

        // Fi: å…§å‘æƒ…æ„Ÿ - å€‹äººå…±é³´ (åŒå‰)
        const fiOptions = document.querySelectorAll('.fi-option');
        const fiOutput = document.getElementById('fiOutput');
        const fiMessages = {
            forest: "æ£®æ—çš„éœè¬èˆ‡ç”Ÿç”Ÿä¸æ¯ï¼Œæˆ–è¨±æ˜ ç…§è‘—æ‚¨å…§å¿ƒçš„å¹³å’Œèˆ‡å …éŸŒã€‚",
            ocean: "æµ·æ´‹çš„æ·±é‚ƒèˆ‡åŒ…å®¹ï¼Œå¯èƒ½è§¸å‹•äº†æ‚¨å°å»£é—Šå¯èƒ½æ€§èˆ‡æ·±åˆ»æƒ…æ„Ÿçš„åš®å¾€ã€‚",
            stars: "æ˜Ÿç©ºçš„ç’€ç’¨èˆ‡ç¥ç§˜ï¼Œä¹Ÿè¨±å‘¼æ‡‰äº†æ‚¨å°ç†æƒ³ã€å¸Œæœ›èˆ‡è¶…è¶Šç¾å¯¦çš„è¿½æ±‚ã€‚"
        };
        fiOptions.forEach(option => {
            option.addEventListener('click', function() {
                fiOptions.forEach(opt => opt.classList.remove('selected'));
                this.classList.add('selected');
                fiOutput.textContent = fiMessages[this.dataset.value];
            });
        });

    </script>
</body>
</html>
